(function(){"use strict";var t={426:function(t,e,r){var a={};r.r(a),r.d(a,{db:function(){return y},t:function(){return x}});var i=r(144),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("v-app",[e("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("v-list",{attrs:{dense:"",nav:""}},[t._l(t.links,(function(r){return e("v-list-item",{key:r.title,attrs:{to:r.link,color:"primary"}},[e("v-list-item-icon",[e("v-icon",[t._v(t._s(r.icon))])],1),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(r.title))])],1)],1)})),t.isUserLogined?t._e():e("v-list-item",{attrs:{color:"primary"},on:{click:function(e){t.cancelUser=!t.cancelUser}}},[e("v-list-item-icon",[e("v-icon",[t._v("mdi-cancel")])],1),e("v-list-item-content",[e("v-list-item-title",[t._v("Logout")])],1)],1)],2)],1),e("v-card",[e("v-app-bar",{attrs:{dark:"",color:"primary"}},[e("v-app-bar-nav-icon",{staticClass:"d-md-none",on:{click:function(e){t.drawer=!t.drawer}}}),e("v-toolbar-title",[e("router-link",{staticClass:"pionter",attrs:{to:"/",tag:"h2"}},[t._v("Vuetify")])],1),e("v-spacer"),t._l(t.links,(function(r){return e("v-btn",{key:r.title,staticClass:"d-none d-md-flex",attrs:{text:"",to:r.link}},[e("v-icon",{attrs:{left:""}},[t._v(t._s(r.icon))]),t._v(" "+t._s(r.title)+" ")],1)})),t.isUserLogined?t._e():e("v-btn",{staticClass:"d-none d-md-flex",attrs:{text:""},on:{click:function(e){t.cancelUser=!t.cancelUser}}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v(" Logout ")],1)],2)],1),e("v-main",[e("router-view")],1),e("v-snackbar",{attrs:{"v:timeout":"5000",value:!0,color:"info"},scopedSlots:t._u([{key:"action",fn:function({attrs:r}){return[e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:t.canceled}},"v-btn",r,!1),[t._v(" Yes ")]),e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:function(e){t.cancelUser=!t.cancelUser}}},"v-btn",r,!1),[t._v(" No ")])]}}]),model:{value:t.cancelUser,callback:function(e){t.cancelUser=e},expression:"cancelUser"}},[t._v(" Are really want to leave us ? ")]),t.error?[e("v-snackbar",{attrs:{"v:timeout":"5000",value:!0,color:"error"},on:{input:t.errorClear},scopedSlots:t._u([{key:"action",fn:function({attrs:r}){return[e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:t.errorClear}},"v-btn",r,!1),[t._v(" Close ")])]}}],null,!1,2553325637)},[t._v(" "+t._s(t.error)+" ")])]:t._e()],2)],1)},o=[],n=r(186),l={data(){return{drawer:!1,cancelUser:!1}},computed:{error(){return this.$store.getters.error},isUserLogined(){return this.$store.getters.isUserLogined},links(){return this.isUserLogined?[{title:"Login",icon:"mdi-account",link:"/login"},{title:"Registration",icon:"mdi-face-agent",link:"./registration"}]:[{title:"Orders",icon:"mdi-bookmark-multiple",link:"/orders"},{title:"New ad",icon:"mdi-file-plus",link:"/newads"},{title:"My ads",icon:"mdi-clipboard-list",link:"/list"}]}},methods:{errorClear(){this.$store.dispatch("clearError")},canceled(){const t=(0,n.v0)();(0,n.w7)(t).then((()=>{this.cancelUser=!1})).catch((t=>{alert(t.message)})),this.$store.dispatch("setUser",null),this.$router.push("/")}}},c=l,d=r(1),u=(0,d.Z)(c,s,o,!1,null,null,null),h=u.exports,v=r(345),m=r(629),p=r(321),g=r(503),f=r(153);const b={apiKey:"AIzaSyCAi3ledsTe6yBSnDLJ_1fhDp69IAfmYk4",authDomain:"vuetify-etc.firebaseapp.com",databaseURL:"https://vuetify-etc-default-rtdb.firebaseio.com",projectId:"vuetify-etc",storageBucket:"vuetify-etc.appspot.com",messagingSenderId:"69171486865",appId:"1:69171486865:web:2f106c933b8fcc93ec5f30"},_=(0,g.ZF)(b),y=(0,p.ad)(_),x=(0,f.cF)(_);var w={state:{ads:[],orders:[]},mutations:{myAds(t){(0,p.cf)((0,p.hJ)(y,"ads"),(e=>{e.forEach((e=>{const r={id:e.id,title:e.data().title,description:e.data().description,promo:e.data().promo,imageSrc:e.data().imageSrc,ownerId:e.data().ownerId,image:e.data().image};t.ads.push(r)}))}))},myOrders(t){(0,p.cf)((0,p.hJ)(y,"orders"),(e=>{e.forEach((e=>{const r={id:e.id,name:e.data().name,phone:e.data().phone,ownerId:e.data().ownerId,adId:e.data().adId,title:e.data().title,imageSrc:e.data().imageSrc,description:e.data().description,image:e.data().image};t.orders.push(r)}))}))}},actions:{myAds({commit:t}){t("myAds")},myOrders({commit:t}){t("myOrders")}},getters:{ads(t){return t.ads},promoAds(t){return t.ads.filter((t=>t.promo))},myAds(t,e){return t.ads.filter((t=>t.ownerId===e.user.uid))},myOrders(t,e){return t.orders.filter((t=>t.ownerId===e.user.uid))},adById(t){return e=>t.ads.find((t=>t.id===e))},orderById(t){return e=>t.orders.find((t=>t.id===e))}}},k={state:{loading:!1,error:null},mutations:{setLoading(t,e){t.loading=e},setError(t,e){t.error=e},clearError(t){t.error=null}},actions:{setLoading({commit:t},e){t("setLoading",e)},setError({commit:t},e){t("setError",e)},clearError({commit:t}){t("clearError")}},getters:{loading(t){return t.loading},error(t){return t.error}}},$={state:{user:null},getters:{user(t){return t.user},isUserLogined(t){return null===t.user}},mutations:{setUser(t,e){t.user=e}},actions:{setUser({commit:t},e){t("setUser",e)}}};i["default"].use(m.ZP);var S=new m.ZP.Store({modules:{Ads:w,Auth:k,User:$}});function C(t,e,r){S.getters.user?r():r("")}var A=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("div",{staticClass:"loading"},[e("v-progress-circular",{attrs:{size:100,width:10,color:"purple",indeterminate:""}})],1):e("div",[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{xs12:""}},[e("v-carousel",t._l(t.promoAds,(function(r){return e("v-carousel-item",{key:r.id,attrs:{src:r.imageSrc}},[e("div",{staticClass:"btnCard"},[e("v-btn",{attrs:{text:"",color:"error",to:/ad/+r.id}},[t._v(" "+t._s(r.title)+" ")])],1)])})),1)],1)],1)],1),e("v-container",[e("v-row",t._l(t.ads,(function(r){return e("v-col",{key:r.id,attrs:{xs:"12",sm:"6",md:"4"}},[e("v-card",{attrs:{"max-width":"400"}},[e("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:r.imageSrc}},[e("v-card-title",[t._v(" "+t._s(r.title)+" ")])],1),e("v-card-text",{staticClass:"text--primary"},[t._v(" "+t._s(r.description)+" ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary",to:/ad/+r.id}},[t._v(" Open ")]),e("app-order",{attrs:{ad:r}})],1)],1)],1)})),1)],1)],1)])},L=[],E={computed:{ads(){return this.$store.getters.ads},promoAds(){return this.$store.getters.promoAds},loading(){return this.$store.getters.loading}}},U=E,I=(0,d.Z)(U,A,L,!1,null,"6f8bbaa5",null),P=I.exports,D=function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{xs:"12",sm:"8","offset-sm":"2"}},[e("h1",{staticClass:"text--secondary my-3"},[t._v("Ad")]),e("v-card",{staticClass:"pa-2 ma-2",attrs:{elevation:"8"}},[e("v-img",{attrs:{src:t.ad.imageSrc,height:"300"}}),e("v-card-text",[e("h1",[t._v(" "+t._s(t.ad.title)+" ")]),e("p",[t._v(t._s(t.ad.description))])]),e("v-card-actions",[e("v-spacer"),t.isOwner?e("app-edit",{attrs:{ad:t.ad}}):t._e(),e("div",{staticClass:"ma-2"}),e("app-order",{attrs:{ad:t.ad}})],1)],1)],1)],1)],1)},q=[],O=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:a}){return[e("v-btn",t._g(t._b({attrs:{color:"warning"}},"v-btn",a,!1),r),[t._v("Edit")])]}},{key:"default",fn:function(r){return[e("v-card",[e("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Change card")]),e("v-form",{ref:"form",staticClass:"my-3 pa-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-img",{attrs:{src:t.changeImageSrc,height:"200"}}),e("v-card-text",[e("v-text-field",{attrs:{label:"Change title*",type:"text",autocomplete:"none",rules:[t=>!!t||"Title is required"],required:""},model:{value:t.changeTitle,callback:function(e){t.changeTitle=e},expression:"changeTitle"}}),e("v-textarea",{attrs:{label:"Change description*",type:"text",autocomplete:"none",rules:[t=>!!t||"Description is required"],required:"","multi-line":""},model:{value:t.changeDescription,callback:function(e){t.changeDescription=e},expression:"changeDescription"}})],1),e("v-card-actions",[e("v-btn",{attrs:{color:"yellow",dark:""},on:{click:t.triggerFile}},[t._v(" Upload "),e("v-icon",{attrs:{dark:"",right:""}},[t._v(" mdi-cloud-upload ")])],1),e("input",{ref:"fileRef",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:t.changeFile}}),e("v-layout",{staticClass:"mx-3"},[e("v-flex",{attrs:{xs12:""}},[e("v-switch",{attrs:{label:"Add promo"},model:{value:t.changePromo,callback:function(e){t.changePromo=e},expression:"changePromo"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",disabled:!t.valid||t.loading,loading:t.loading},on:{click:t.changeAd}},[t._v(" Change ad ")]),e("v-btn",{attrs:{dark:"",color:"red",loading:t.loading},on:{click:function(e){t.deleteAd=!t.deleteAd}}},[t._v(" Delete ad ")]),e("v-btn",{attrs:{color:"warning",disabled:t.loading,loading:t.loading},on:{click:function(t){r.value=!1}}},[t._v("Close")])],1)],1)],1),e("v-snackbar",{attrs:{"v:timeout":"5000",value:!0,color:"info"},scopedSlots:t._u([{key:"action",fn:function({attrs:r}){return[e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:t.deleteDoc}},"v-btn",r,!1),[t._v(" Yes ")]),e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:function(e){t.deleteAd=!t.deleteAd}}},"v-btn",r,!1),[t._v(" No ")])]}}],null,!0),model:{value:t.deleteAd,callback:function(e){t.deleteAd=e},expression:"deleteAd"}},[t._v(" Are really want delet this card ? ")])]}}])})},R=[],J={props:["ad"],data(){return{valid:!1,changeTitle:"",changeDescription:"",changePromo:this.ad.promo,changeImageSrc:this.ad.imageSrc,image:null,deleteAd:!1,id:this.ad.id}},computed:{loading(){return this.$store.getters.loading}},methods:{triggerFile(){this.$refs.fileRef.click()},changeFile(t){const e=t.target.files[0],r=new FileReader;r.onload=t=>{this.changeImageSrc=r.result},r.readAsDataURL(e),this.image=e},changeAd(){if(this.$refs.form.validate()&&this.image){const t=this.image;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0);const e=(0,f.iH)(x,"ads/"+t.name);(0,f.KV)(e,t),(0,f.Jt)(e).then((function(t){this.changeImageSrc=t}));const r=this.id;(0,p.r7)((0,p.JU)((0,p.hJ)(y,"ads"),r),{title:this.changeTitle,description:this.changeDescription,promo:this.changePromo,imageSrc:this.changeImageSrc}).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}else if(this.$refs.form.validate()){const t=this.id;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0),(0,p.r7)((0,p.JU)((0,p.hJ)(y,"ads"),t),{title:this.changeTitle,description:this.changeDescription,promo:this.changePromo,imageSrc:this.changeImageSrc}).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}},deleteDoc(){const t=this.id,e=this.ad.image,r=(0,f.iH)(x,"ads/"+e);(0,f.oq)(r,e),this.$store.dispatch("setLoading",!0),(0,p.oe)((0,p.JU)((0,p.hJ)(y,"ads"),t)).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}}},T=J,F=(0,d.Z)(T,O,R,!1,null,null,null),Z=F.exports,j={props:["id"],components:{appEdit:Z},computed:{ad(){const t=this.id;return this.$store.getters.adById(t)},isOwner(){return this.ad.ownerId===this.$store.getters.user.uid}}},z=j,B=(0,d.Z)(z,D,q,!1,null,null,null),N=B.exports,Y=function(){var t=this,e=t._self._c;return e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[e("v-card",{attrs:{elevation:"8"}},[e("v-toolbar",{attrs:{color:"primary",dark:""}},[e("v-icon",{attrs:{left:"",large:""}},[t._v("mdi-account")]),e("v-toolbar-title",[t._v(" Login form ")])],1),e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-card-text",[e("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"Email",type:"email",autocomplete:"none",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("v-text-field",{attrs:{"prepend-icon":"mdi-lock",label:"Password",type:"password",autocomplete:"none",counter:6,rules:t.passRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.submited}},[t._v(" Login ")])],1)],1)],1)],1)],1)],1)},M=[],H={data(){return{valid:!1,email:"",emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"],password:"",passRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must be more than 6 characters"]}},computed:{loading(){return this.$store.getters.loading}},methods:{submited(){if(this.$refs.form.validate()){const t=this.email,e=this.password;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0),(0,n.e5)((0,n.v0)(),t,e).then((()=>(this.$store.dispatch("setUser",t,e),this.$store.dispatch("setLoading",!1),this.$router.push("/")))).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}}}},K=H,V=(0,d.Z)(K,Y,M,!1,null,null,null),X=V.exports,G=function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{xs:"12",sm:"8","offset-sm":"2"}},[e("h1",{staticClass:"text--secondary my-3"},[t._v("My ads")]),t._l(t.ads,(function(r){return e("v-card",{key:r.id,staticClass:"pa-2 ma-2",attrs:{elevation:"8"}},[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs5:""}},[e("v-card-text",[e("v-img",{attrs:{src:r.imageSrc,height:"150"}})],1)],1),e("v-flex",{attrs:{xs7:"","align-self-center":""}},[e("v-card-title",[t._v(" "+t._s(r.title)+" ")]),e("v-card-text",[t._v(" "+t._s(r.description)+" ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",to:/ad/+r.id}},[t._v("Open")])],1)],1)],1)],1)}))],2)],1)],1)},Q=[],W={computed:{ads(){return this.$store.getters.myAds}}},tt=W,et=(0,d.Z)(tt,G,Q,!1,null,null,null),rt=et.exports,at=function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{xs:"12",sm:"6","offset-sm":"3"}},[e("h1",{staticClass:"my-3 text--secondary"},[t._v("Create new ad")]),e("v-card",{attrs:{elevation:"0"}},[e("v-form",{ref:"form",staticClass:"my-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-card-text",[e("v-text-field",{attrs:{label:"Ad title*",type:"text",autocomplete:"none",rules:[t=>!!t||"Title is required"],required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("v-textarea",{attrs:{label:"Ad description*",type:"text",autocomplete:"none",rules:[t=>!!t||"Description is required"],required:"","multi-line":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),e("v-btn",{attrs:{color:"yellow",dark:""},on:{click:t.triggerFile}},[t._v(" Upload "),e("v-icon",{attrs:{dark:"",right:""}},[t._v(" mdi-cloud-upload ")])],1),e("input",{ref:"fileRef",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:t.changeFile}}),e("v-layout",[e("v-flex",{attrs:{xs12:""}},[t.imageSrc?e("img",{staticClass:"mt-3",attrs:{src:t.imageSrc,height:"100"}}):t._e()])],1),e("v-layout",[e("v-flex",{attrs:{xs12:""}},[e("v-switch",{attrs:{label:"Add promo"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),e("v-btn",{attrs:{color:"secondary",disabled:!t.valid||!t.imageSrc||t.loading,loading:t.loading},on:{click:t.createAd}},[t._v(" Create ad ")])],1)],1)],1)],1)},it=[],st={data(){return{title:"",description:"",valid:!1,promo:!1,image:null,imageSrc:""}},methods:{triggerFile(){this.$refs.fileRef.click()},changeFile(t){const e=t.target.files[0],r=new FileReader;r.onload=t=>{this.imageSrc=r.result},r.readAsDataURL(e),this.image=e},createAd(){if(this.$refs.form.validate()&&this.image){const t=this.image,e=this.$store.getters.user.uid;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0);const r=(0,f.iH)(x,"ads/"+t.name);(0,f.KV)(r,t),(0,f.Jt)(r).then((function(t){this.imageSrc=t})),(0,p.pl)((0,p.JU)((0,p.hJ)(y,"ads")),{title:this.title,description:this.description,promo:this.promo,imageSrc:this.imageSrc,image:this.image.name,ownerId:e}).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}}},computed:{loading(){return this.$store.getters.loading}}},ot=st,nt=(0,d.Z)(ot,at,it,!1,null,null,null),lt=nt.exports,ct=function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{xs:"12",sm:"6","offset-sm":"3"}},[e("h1",{staticClass:"text--secondary my-3"},[t._v("Orders")]),e("v-card",{staticClass:"mx-auto",attrs:{elevation:"0"}},[e("v-list",{attrs:{subheader:"","two-line":""}},t._l(t.orders,(function(r){return e("v-list-item",{key:r.id},[e("v-list-item-content",[e("v-list-item-title",[t._v(" Name: "+t._s(r.name)+" ")])],1),e("v-list-item-content",[e("v-list-item-subtitle",[t._v("Phone: "+t._s(r.phone)+" ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{raised:"",color:"primary",to:"/order/"+r.id,disabled:t.loading,loading:t.loading}},[t._v("Order")])],1)],1)})),1)],1)],1)],1)],1)},dt=[],ut={data(){return{loading:!1}},computed:{orders(){return this.$store.getters.myOrders}}},ht=ut,vt=(0,d.Z)(ht,ct,dt,!1,null,"642f41f0",null),mt=vt.exports,pt=function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{xs:"12",sm:"8","offset-sm":"2"}},[e("h1",{staticClass:"text--secondary my-3"},[t._v("Card")]),e("v-card",{staticClass:"pa-2 ma-2",attrs:{elevation:"8"}},[e("v-img",{attrs:{src:t.order.imageSrc,height:"300"}}),e("v-card-text",[e("h1",[t._v(" "+t._s(t.order.title)+" ")]),e("p",[t._v(t._s(t.order.description))])]),e("v-card-actions",[e("app-edit",{attrs:{order:t.order}})],1)],1)],1)],1)],1)},gt=[],ft=function(){var t=this,e=t._self._c;return e("v-row",[e("v-col",[e("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:a}){return[e("v-btn",t._g(t._b({attrs:{color:"warning"}},"v-btn",a,!1),r),[t._v("Edit")])]}},{key:"default",fn:function(r){return[e("v-card",[e("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Change card")]),e("v-form",{ref:"form",staticClass:"my-3 pa-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-img",{attrs:{src:t.changeImageSrc,height:"200"}}),e("v-card-text",[e("v-text-field",{attrs:{label:"Change title*",type:"text",autocomplete:"none",rules:[t=>!!t||"Title is required"],required:""},model:{value:t.changeTitle,callback:function(e){t.changeTitle=e},expression:"changeTitle"}}),e("v-textarea",{attrs:{label:"Change description*",type:"text",autocomplete:"none",rules:[t=>!!t||"Description is required"],required:"","multi-line":""},model:{value:t.changeDescription,callback:function(e){t.changeDescription=e},expression:"changeDescription"}})],1),e("v-card-actions",[e("v-btn",{attrs:{color:"yellow",dark:""},on:{click:t.triggerFile}},[t._v(" Upload "),e("v-icon",{attrs:{dark:"",right:""}},[t._v(" mdi-cloud-upload ")])],1),e("input",{ref:"fileRef",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:t.changeFile}}),e("v-spacer"),e("v-btn",{attrs:{color:"primary",disabled:!t.valid||t.loading,loading:t.loading},on:{click:t.changeAd}},[t._v(" Change ad ")]),e("v-btn",{attrs:{dark:"",color:"red",loading:t.loading},on:{click:function(e){t.deleteAd=!t.deleteAd}}},[t._v(" Delete ad ")]),e("v-btn",{attrs:{color:"warning",disabled:t.loading,loading:t.loading},on:{click:function(t){r.value=!1}}},[t._v("Close")])],1)],1)],1),e("v-snackbar",{attrs:{"v:timeout":"5000",value:!0,color:"info"},scopedSlots:t._u([{key:"action",fn:function({attrs:r}){return[e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:t.deleteDoc}},"v-btn",r,!1),[t._v(" Yes ")]),e("v-btn",t._b({attrs:{color:"light",text:""},on:{click:function(e){t.deleteAd=!t.deleteAd}}},"v-btn",r,!1),[t._v(" No ")])]}}],null,!0),model:{value:t.deleteAd,callback:function(e){t.deleteAd=e},expression:"deleteAd"}},[t._v(" Are really want delet this card ? ")])]}}])})],1)],1)},bt=[],_t={props:["order"],data(){return{valid:!1,changeTitle:"",changeDescription:"",changeImageSrc:this.order.imageSrc,image:null,deleteAd:!1,id:this.order.id}},computed:{loading(){return this.$store.getters.loading}},methods:{triggerFile(){this.$refs.fileRef.click()},changeFile(t){const e=t.target.files[0],r=new FileReader;r.onload=t=>{this.changeImageSrc=r.result},r.readAsDataURL(e),this.image=e},changeAd(){if(this.$refs.form.validate()&&this.image){const t=this.image;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0);const e=(0,f.iH)(x,"ads/"+t.name);(0,f.KV)(e,t),(0,f.Jt)(e).then((function(t){this.changeImageSrc=t}));const r=this.id;(0,p.r7)((0,p.JU)((0,p.hJ)(y,"orders"),r),{title:this.changeTitle,description:this.changeDescription,imageSrc:this.changeImageSrc}).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}else if(this.$refs.form.validate()){const t=this.id;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0),(0,p.r7)((0,p.JU)((0,p.hJ)(y,"orders"),t),{title:this.changeTitle,description:this.changeDescription,imageSrc:this.changeImageSrc}).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}},deleteDoc(){const t=this.id;this.$store.dispatch("setLoading",!0),(0,p.oe)((0,p.JU)((0,p.hJ)(y,"orders"),t)).then((()=>{this.$store.dispatch("setLoading",!1),window.location.reload()})).catch((t=>{this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}}},yt=_t,xt=(0,d.Z)(yt,ft,bt,!1,null,null,null),wt=xt.exports,kt={props:["id"],components:{appEdit:wt},computed:{order(){const t=this.id;return this.$store.getters.orderById(t)}}},$t=kt,St=(0,d.Z)($t,pt,gt,!1,null,null,null),Ct=St.exports,At=function(){var t=this,e=t._self._c;return e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[e("v-card",{attrs:{elevation:"8"}},[e("v-toolbar",{attrs:{color:"primary",dark:""}},[e("v-icon",{attrs:{left:"",large:""}},[t._v("mdi-account")]),e("v-toolbar-title",[t._v(" Registration form ")])],1),e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-card-text",[e("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"Email",type:"email",autocomplete:"none",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("v-text-field",{attrs:{"prepend-icon":"mdi-lock",label:"Password",type:"password",autocomplete:"none",counter:6,rules:t.passRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("v-text-field",{attrs:{"prepend-icon":"mdi-lock",label:"Confirm Password",type:"password",autocomplete:"none",counter:6,rules:t.confPassRules,required:""},model:{value:t.confPassword,callback:function(e){t.confPassword=e},expression:"confPassword"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v(" Register ")])],1)],1)],1)],1)],1)],1)},Lt=[],Et={data(){return{valid:!1,email:"",emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"],password:"",passRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must be more than 6 characters"],confPassword:"",confPassRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must be more than 6 characters",t=>t===this.password||"Password should match"]}},computed:{loading(){return this.$store.getters.loading}},methods:{onSubmit(){if(this.$refs.form.validate()){const t=this.email,e=this.password;this.$store.dispatch("clearError"),this.$store.dispatch("setLoading",!0),(0,n.Xb)((0,n.v0)(),t,e).then((()=>(this.$store.dispatch("setUser",t,e),this.$store.dispatch("setLoading",!1),this.$router.push("/")))).catch((t=>{console.log(t.message),this.$store.dispatch("setLoading",!1),this.$store.dispatch("setError",t.message)}))}}}},Ut=Et,It=(0,d.Z)(Ut,At,Lt,!1,null,null,null),Pt=It.exports;i["default"].use(v.ZP);const Dt=[{path:"",name:"home",component:P},{path:"/login",name:"login",component:X},{path:"/list",name:"list",component:rt,beforeEnter:C},{path:"/newads",name:"newads",component:lt,beforeEnter:C},{path:"/orders",name:"orders",component:mt,beforeEnter:C},{path:"/registration",name:"registration",component:Pt},{path:"/ad/:id",name:"ad",props:!0,component:N,beforeEnter:C},{path:"/order/:id",name:"order",props:!0,component:Ct,beforeEnter:C}],qt=new v.ZP({mode:"history",base:"/vue-2 firebase 9/",routes:Dt});var Ot=qt,Rt=r(464),Jt=r.n(Rt);r(556);i["default"].use(Jt());const Tt={};var Ft=new(Jt())(Tt),Zt=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:a}){return[e("v-btn",t._g(t._b({attrs:{color:"primary"}},"v-btn",a,!1),r),[t._v("Buy")])]}},{key:"default",fn:function(r){return[e("v-card",[e("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Change card")]),e("v-form",{ref:"form",staticClass:"my-3 pa-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-img",{attrs:{src:t.changeImageSrc,height:"200"}}),e("v-card-text",[e("v-text-field",{attrs:{label:"Your name*",type:"text",autocomplete:"none",rules:[t=>!!t||"Name is required"],required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("v-text-field",{attrs:{label:"Your phone*",type:"number",autocomplete:"none",rules:[t=>!!t||"Phone is required"],required:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",disabled:!t.valid||t.loading,loading:t.loading},on:{click:t.buyDoc}},[t._v(" Buy ")]),e("v-btn",{attrs:{color:"warning",disabled:t.loading,loading:t.loading},on:{click:function(t){r.value=!1}}},[t._v("Close")])],1)],1)],1)]}}])})},jt=[],zt={props:["ad"],data(){return{valid:!1,name:"",phone:"",loading:!1,changeImageSrc:this.ad.imageSrc,done:!1}},methods:{buyDoc(){if(this.$refs.form.validate()){const t=this.$store.getters.user.uid,e=this.ad.id,r=this.ad.imageSrc,a=this.ad.description,i=this.ad.title,s=this.ad.image;this.loading=!0,(0,p.pl)((0,p.JU)((0,p.hJ)(y,"orders")),{name:this.name,phone:this.phone,done:this.done,ownerId:t,adId:e,title:i,description:a,imageSrc:r,image:s}).then((()=>{this.loading=!1,window.location.reload()})).catch((t=>{this.loading=!1,console.error(t)}))}}}},Bt=zt,Nt=(0,d.Z)(Bt,Zt,jt,!1,null,null,null),Yt=Nt.exports;i["default"].component("appOrder",Yt),new i["default"]({vuetify:Ft,router:Ot,store:S,app:a["default"],created(){(0,n.Aj)((0,n.v0)(),(t=>{t&&this.$store.dispatch("setUser",t)})),this.$store.dispatch("myAds"),this.$store.dispatch("myOrders")},render:function(t){return t(h)}}).$mount("#app")}},e={};function r(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,a,i,s){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],s=t[d][2];for(var n=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(r.O).every((function(t){return r.O[t](a[l])}))?a.splice(l--,1):(n=!1,s<o&&(o=s));if(n){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,i,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,s,o=a[0],n=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)r.o(n,i)&&(r.m[i]=n[i]);if(l)var d=l(r)}for(e&&e(a);c<o.length;c++)s=o[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(d)},a=self["webpackChunkvue_2"]=self["webpackChunkvue_2"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(426)}));a=r.O(a)})();
//# sourceMappingURL=app.5b5f80fb.js.map